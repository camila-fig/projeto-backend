<h1>Lista de Produtos</h1>

<div>
    <label for="search"></label>
</div>

<div class="page-products">
    {{#each products}}
    <div class="container-product">
        <img src="../../image/{{thumbnail}}" alt="Imagem do Produto" width="50px" />
        <p>Categoria: {{category}}</p>
        <p class="product-name">{{title}}</p>
        <p>Pre√ßo R$ {{price}}</p>
        <br>
        <button class="viewProduct" data-id="{{_id}}">Ver produto</button>
    </div>
    {{/each}}
</div>

<script>
    const viewProducts = document.querySelectorAll('.viewProduct')

    viewProducts.forEach(button => {
        button.addEventListener('click', async () => {
            const addProduct = button.getAttribute('data-id')
            console.log("PID selecionado:", addProduct)
            window.location.href = `/products/${addProduct}`
            //await addProductToCart(addProduct)
        })
    })

</script>